{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Michael Tho\\\\Documents\\\\GitHub\\\\frontend\\\\src\\\\pages\\\\login.js\";\nimport React, { Component } from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\nimport AppIcon from '../images/icon.png';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom'; //material ui\n\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button'; //css\n\nconst styles = {\n  form: {\n    textAlign: 'center'\n  },\n  image: {\n    margin: '20px auto 10px auto',\n    height: '50px',\n    width: '50px'\n  },\n  pageTitle: {\n    margin: '10px auto 20px auto'\n  },\n  textField: {\n    margin: '10px auto 10px auto'\n  },\n  button: {\n    marginTop: 20\n  },\n  customError: {\n    color: 'red',\n    fontSize: '0.8rem',\n    marginTop: 10\n  }\n}; //login rendering\n\nclass login extends Component {\n  //default fields\n  constructor() {\n    super();\n\n    this.handleSubmit = event => {\n      event.preventDefault(); //change load flag\n\n      this.setState({\n        loading: true\n      }); //login fields for userData object\n\n      const userData = {\n        email: this.state.email,\n        password: this.state.password\n      }; //process login\n\n      axios.post('/login', userData).then(result => {\n        console.log(result.data);\n        this.setState({\n          loading: false\n        }); //actual redirection\n\n        this.props.history.push('/');\n      }).catch(err => {\n        this.setState({\n          errors: err.response.data,\n          loading: false\n        });\n      });\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      loading: false,\n      //loading after submit\n      errors: {}\n    };\n  } //redirect after submit\n\n\n  render() {\n    //bring prop styles\n    const {\n      classes\n    } = this.props; //bring errors and load state\n\n    const {\n      errors,\n      loading\n    } = this.state;\n    return (//create responsive division on page\n      React.createElement(Grid, {\n        container: true,\n        className: classes.form,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        sm: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        item: true,\n        sm: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: AppIcon,\n        alt: \"logo\",\n        className: classes.image,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        variant: \"h4\",\n        className: classes.pageTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"form\", {\n        noValidate: true,\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"email\",\n        name: \"email\",\n        type: \"email\",\n        label: \"Email\",\n        className: classes.textField,\n        helperText: errors.email //display null email error\n        ,\n        error: errors.email ? true : false,\n        value: this.state.email,\n        onChange: this.handleChange,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"password\",\n        name: \"password\",\n        type: \"password\",\n        label: \"password\",\n        className: classes.textField //display null password error\n        ,\n        helperText: errors.password,\n        error: errors.password ? true : false,\n        value: this.state.password,\n        onChange: this.handleChange,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), errors.general && //display wrong credential error\n      React.createElement(Typography, {\n        variant: \"body2\",\n        className: classes.customError,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, errors.general), React.createElement(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        className: classes.button,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }), React.createElement(\"small\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"don't have an account? sign up \", React.createElement(Link, {\n        to: \"/signup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"here\")))), React.createElement(Grid, {\n        item: true,\n        sm: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }))\n    );\n  }\n\n} //checks prop types for login\n\n\nlogin.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(login);","map":{"version":3,"sources":["C:/Users/Michael Tho/Documents/GitHub/frontend/src/pages/login.js"],"names":["React","Component","withStyles","PropTypes","AppIcon","axios","Link","Grid","Typography","TextField","Button","styles","form","textAlign","image","margin","height","width","pageTitle","textField","button","marginTop","customError","color","fontSize","login","constructor","handleSubmit","event","preventDefault","setState","loading","userData","email","state","password","post","then","result","console","log","data","props","history","push","catch","err","errors","response","handleChange","target","name","value","render","classes","general","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport PropTypes from 'prop-types';\r\nimport AppIcon from '../images/icon.png';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\n//material ui\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n//css\r\nconst styles = {\r\n    form: {\r\n        textAlign: 'center'\r\n    },\r\n    image: {\r\n        margin: '20px auto 10px auto',\r\n        height: '50px',\r\n        width: '50px'\r\n    },\r\n    pageTitle: {\r\n        margin: '10px auto 20px auto'\r\n    },\r\n    textField: {\r\n        margin: '10px auto 10px auto'\r\n    },\r\n    button: {\r\n        marginTop: 20\r\n    },\r\n    customError: {\r\n        color: 'red',\r\n        fontSize: '0.8rem',\r\n        marginTop: 10\r\n    }\r\n}\r\n\r\n//login rendering\r\nclass login extends Component {\r\n    //default fields\r\n    constructor() {\r\n        super();\r\n        this.state ={\r\n            email: '',\r\n            password: '',\r\n            loading: false, //loading after submit\r\n            errors: {}\r\n        }\r\n    }\r\n    //redirect after submit\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        //change load flag\r\n        this.setState({\r\n            loading: true\r\n        });\r\n        //login fields for userData object\r\n        const userData = {\r\n            email: this.state.email,\r\n            password: this.state.password\r\n        }\r\n        //process login\r\n        axios.post('/login',userData)\r\n            .then((result) => {\r\n                console.log(result.data);\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n                //actual redirection\r\n                this.props.history.push('/');\r\n            })\r\n            .catch((err) => {\r\n                this.setState({\r\n                    errors: err.response.data,\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    //targets form field and allows change of target value\r\n    handleChange= (event) => {\r\n        this.setState({\r\n           [event.target.name]: event.target.value\r\n        })\r\n    }\r\n    render() {\r\n        //bring prop styles\r\n        const { classes } = this.props;\r\n        //bring errors and load state\r\n        const { errors,loading} = this.state;\r\n        return (\r\n            //create responsive division on page\r\n            <Grid container className={classes.form}>\r\n                <Grid item sm/>\r\n                <Grid item sm>\r\n                    <img src={AppIcon} alt=\"logo\" className={classes.image}/>\r\n                    <Typography variant=\"h4\" className={classes.pageTitle}>\r\n                        Login\r\n                    </Typography>\r\n                    {/*login form*/}\r\n                    <form noValidate onSubmit={this.handleSubmit}>\r\n                        <TextField id=\"email\"\r\n                            name=\"email\"\r\n                            type=\"email\"\r\n                            label=\"Email\"\r\n                            className={classes.textField}\r\n                            helperText={errors.email}\r\n                            //display null email error\r\n                            error={errors.email ? true : false}\r\n                            value={this.state.email}\r\n                            onChange={this.handleChange}\r\n                            fullWidth/>\r\n                        <TextField id=\"password\"\r\n                            name=\"password\"\r\n                            type=\"password\"\r\n                            label=\"password\"\r\n                            className={classes.textField}\r\n                            //display null password error\r\n                            helperText={errors.password}\r\n                            error={errors.password ? true : false}\r\n                            value={this.state.password}\r\n                            onChange={this.handleChange}\r\n                            fullWidth/>\r\n                        {errors.general && (\r\n                            //display wrong credential error\r\n                            <Typography variant=\"body2\" className={classes.customError}>\r\n                                {errors.general}\r\n                            </Typography>\r\n                        )}\r\n                        <Button type=\"submit\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className={classes.button}>\r\n                                Login\r\n                        </Button>\r\n                        <br/>\r\n                        <small>don't have an account? sign up <Link to=\"/signup\">here</Link></small>\r\n                    </form>\r\n                </Grid>\r\n                <Grid item sm/>\r\n            </Grid>\r\n        );\r\n    }\r\n}\r\n\r\n//checks prop types for login\r\nlogin.propTypes = {\r\n        classes: PropTypes.object.isRequired\r\n}\r\n\r\nexport default withStyles(styles)(login);"]},"metadata":{},"sourceType":"module"}